<app-header-front></app-header-front>

<div class="add-assessment-container">
  <div class="top-bar">
    <button class="back" (click)="goBack()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
        <path d="M11.854 2.146a.5.5 0 0 1 0 .708L5.707 8l6.147 5.146a.5.5 0 0 1-.708.708l-6.5-6a.5.5 0 0 1 0-.708l6.5-6a.5.5 0 0 1 .708 0z"/>
      </svg>
    </button>
    <h3>Add Assessment</h3>
  </div>

  <form (ngSubmit)="onSubmit()" #assessmentForm="ngForm" class="p-4 border rounded shadow">

    <div class="form-group">
      <label for="claim" class="font-weight-bold">Select Claim</label>
      <select id="claim" class="form-control" required [(ngModel)]="assessment.claim" name="claim">
        <option *ngFor="let claim of claims" [ngValue]="claim">
          {{ claim.claimName }} - {{ claim.fullName }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="assessmentDate" class="font-weight-bold">Assessment Date</label>
      <input type="date" id="assessmentDate" class="form-control" required [(ngModel)]="assessment.assessmentDate" name="assessmentDate">
    </div>

    <div class="form-group">
      <label for="findings" class="font-weight-bold">Findings</label>
      <textarea id="findings" class="form-control" required [(ngModel)]="assessment.findings" name="findings"></textarea>
    </div>

    <div class="form-group">
      <label for="submissionDate" class="font-weight-bold">Submission Date</label>
      <input type="date" id="submissionDate" class="form-control" required [(ngModel)]="assessment.submissionDate" name="submissionDate">
    </div>

    <div class="form-group">
      <label class="font-weight-bold">Upload Documents</label>
      <input type="file" id="file-upload" class="form-control file-input" multiple (change)="onFileSelected($event)">
    </div>

    <div class="button-group">
      <button type="submit" class="btn btn-primary mt-3 w-100" [disabled]="!assessmentForm.form.valid">Add Assessment</button>
      <button type="button" class="btn btn-secondary mt-3 w-100" (click)="onCancel()">Cancel</button>
    </div>
  </form>
</div>

<app-chatbot></app-chatbot>
<app-footer-front></app-footer-front>
