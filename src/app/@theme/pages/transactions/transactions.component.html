<div class="container">
    <h2>Transactions</h2>
  
    <!-- Form for Adding/Editing Transactions -->
    <form (ngSubmit)="addTransaction()">
  
      <div class="form-group">
        <label>Amount:</label>
        <input type="number" [(ngModel)]="transactionForm.amount" name="amount" class="form-control" required />
      </div>
  
      <div class="form-group">
        <label>Payment Method:</label>
        <input type="text" [(ngModel)]="transactionForm.payment_method" name="payment_method" class="form-control" required />
      </div>
  
      <div class="form-group">
        <label>Transaction Date:</label>
        <input type="datetime-local" [(ngModel)]="transactionForm.transaction_date" name="transaction_date" class="form-control" required />
      </div>
  
      <div class="form-group">
        <label>Status:</label>
        <select [(ngModel)]="transactionForm.status" name="status" class="form-control" required>
          <option value="PENDING">PENDING</option>
          <option value="COMPLETED">COMPLETED</option>
          <option value="FAILED">FAILED</option>
        </select>
      </div>
  
      <button type="submit" class="btn btn-primary">{{ isEditing ? 'Update' : 'Add' }} Transaction</button>
      <button type="button" class="btn btn-secondary" (click)="resetForm()" *ngIf="isEditing">Cancel</button>
    </form>
  
    <!-- Table Displaying Transactions -->
    <table *ngIf="transactions.length > 0; else noTransactions" class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>User ID</th>
          <th>Amount</th>
          <th>Payment Method</th>
          <th>Transaction Date</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let transaction of transactions">
          <td>{{ transaction.transaction_id }}</td>
          <td>{{ transaction.user_id }}</td>
          <td>{{ transaction.amount | currency }}</td>
          <td>{{ transaction.payment_method }}</td>
          <td>{{ transaction.transaction_date | date:'short' }}</td>
          <td>{{ transaction.status }}</td>
          <td>
            <button (click)="editTransaction(transaction)" class="btn btn-warning">Edit</button>
            <button (click)="deleteTransaction(transaction.transaction_id!)" class="btn btn-danger">Delete</button>
        </td>
        </tr>
      </tbody>
    </table>
  
    <ng-template #noTransactions>
      <p>No transactions available.</p>
    </ng-template>
  </div>
  