<!-- Back Button -->
<button class="btn btn-light back-btn" (click)="goBack()">Back
    <i class="fa fa-arrow-left"></i> 
  </button>
  
<div class="add-assessment-container">
    <h3>Add Assessment</h3>
    <form (ngSubmit)="onSubmit()" #assessmentForm="ngForm" class="p-4 border rounded shadow">

        <!-- Liste déroulante pour sélectionner un Claim -->
        <div class="form-group">
            <label for="claim" class="font-weight-bold">Select Claim</label>
            <select id="claim" class="form-control" required [(ngModel)]="assessment.claim" name="claim">
                <option *ngFor="let claim of claims" [ngValue]="claim">
                    {{ claim.claimName }} - {{ claim.fullName }}
                </option>
            </select>
        </div>
        

        <!-- Assessment Date -->
        <div class="form-group">
            <label for="assessmentDate" class="font-weight-bold">Assessment Date</label>
            <input type="date" id="assessmentDate" class="form-control" required [(ngModel)]="assessment.assessmentDate" name="assessmentDate">
        </div>

        <!-- Findings -->
        <div class="form-group">
            <label for="findings" class="font-weight-bold">Findings</label>
            <textarea id="findings" class="form-control" required [(ngModel)]="assessment.findings" name="findings"></textarea>
        </div>

        <!-- Status Assessment -->
        <div class="form-group">
            <label for="statusAssessment" class="font-weight-bold">Status Assessment</label>
            <select id="statusAssessment" class="form-control" required [(ngModel)]="assessment.statusAssessment" name="statusAssessment">
                <option *ngFor="let status of statusOptions" [value]="status">{{ status }}</option>
            </select>
        </div>

        <!-- Final Decision -->
        <div class="form-group">
            <label for="finalDecision" class="font-weight-bold">Final Decision</label>
            <select id="finalDecision" class="form-control" required [(ngModel)]="assessment.finalDecision" name="finalDecision">
                <option *ngFor="let decision of decisionOptions" [value]="decision">{{ decision }}</option>
            </select>
        </div>

        <!-- Submission Date -->
        <div class="form-group">
            <label for="submissionDate" class="font-weight-bold">Submission Date</label>
            <input type="date" id="submissionDate" class="form-control" required [(ngModel)]="assessment.submissionDate" name="submissionDate">
        </div>

        <!-- Upload Documents -->
        <div class="form-group">
            <label class="font-weight-bold">Upload Documents</label>
            <input type="file" id="file-upload" class="form-control file-input" multiple (change)="onFileSelected($event)">
        </div>

        <!-- Buttons -->
        <div class="button-group">
            <button type="submit" class="btn btn-primary mt-3 w-100" [disabled]="!assessmentForm.form.valid">Add Assessment</button>
            <button type="button" class="btn btn-secondary mt-3 w-100" (click)="onCancel()">Cancel</button>
        </div>
    </form>
</div>
